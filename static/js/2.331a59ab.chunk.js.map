{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/model.js","components/Profile/MyPosts/MyPosts.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","descriptionBlock","posts","item","React","Component","ProfileStatusWithHooks","props","_useState","useState","_useState2","Object","slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","react_default","a","createElement","onDoubleClick","onBlur","updateStatus","autoFocus","onChange","e","currentTarget","value","ProfileInfo","profile","Fragment","className","s","src","photos","large","alt","ProfileInfo_ProfileStatusWithHooks","fullName","aboutMe","target","href","concat","contacts","vk","github","lookingForAJobDescription","Preloader","classes","Post","message","likes","insert","createEvent","change","reset","$posts","createStore","id","$input","on","state","submit","watch","preventDefault","sample","clock","source","memo","console","log","input","useStore","length","trim","toConsumableArray","postsElements","map","p","MyPosts_Post_Post","key","reverse","type","onClick","Profile","Profile_ProfileInfo_ProfileInfo","Profile_MyPosts_MyPosts","ProfileContainer","userId","this","match","params","authorizedUserId","history","push","getUserProfileThunk","getStatus","components_Profile_Profile","compose","connect","profilePage","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/2.331a59ab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3qxll\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__i8jOi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1Lsrw\"};","import React from 'react'\r\n\r\nclass ProfileStatus extends React.Component {\r\n   state = {\r\n      editMode: false,\r\n      status: this.props.status\r\n   }\r\n\r\n   activateEditMode = () => {\r\n      this.setState({\r\n         editMode: true\r\n      })\r\n   }\r\n\r\n   deactivateEditMode = () => {\r\n      this.setState({\r\n         editMode: false\r\n      })\r\n      this.props.updateStatus(this.state.status)\r\n   }\r\n\r\n   onStatusChange = (e) => {\r\n      this.setState({\r\n         status: e.currentTarget.value\r\n      })\r\n   }\r\n\r\n   componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n      if (prevProps.status !== this.props.status) {\r\n         this.setState({\r\n            status: this.props.status\r\n         })\r\n      }\r\n   }\r\n\r\n   render() {\r\n      return (\r\n         <div>\r\n            {!this.state.editMode &&\r\n            <div>\r\n               <span onDoubleClick={this.activateEditMode.bind(this)}>{this.props.status || \"---\"}</span>\r\n            </div>\r\n            }\r\n            {this.state.editMode &&\r\n            <div>\r\n               <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode.bind(this)}\r\n                      value={this.state.status}/>\r\n            </div>\r\n            }\r\n         </div>\r\n      )\r\n   }\r\n\r\n}\r\n\r\nexport default ProfileStatus","import React, {useEffect, useState} from 'react'\r\nimport s from \"./ProfileInfo.module.css\"\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n   let [editMode, setEditMode] = useState(false)\r\n   let [status, setStatus] = useState(props.status)\r\n\r\n   useEffect(() => {\r\n      setStatus(props.status)\r\n   }, [props.status])\r\n\r\n   const activateEditMode = () => {\r\n      setEditMode(true)\r\n   }\r\n\r\n   const deactivateEditMode = () => {\r\n      setEditMode(false)\r\n      props.updateStatus(status)\r\n   }\r\n\r\n   const onStatusChange = (e) => {\r\n      setStatus(e.currentTarget.value)\r\n   }\r\n\r\n   return (\r\n      <div>\r\n         {!editMode &&\r\n         <div>\r\n            <span onDoubleClick={activateEditMode}>{props.status || \"---\"}</span>\r\n         </div>\r\n         }\r\n\r\n         {editMode &&\r\n         <div>\r\n            <input\r\n               onBlur={deactivateEditMode}\r\n               autoFocus={true}\r\n               onChange={onStatusChange}\r\n               value={status}\r\n            />\r\n         </div>\r\n         }\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from 'react'\r\nimport s from \"./ProfileInfo.module.css\"\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatus from \"./ProfileStatus\"\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n   if (!props.profile) {\r\n      return <Preloader/>\r\n   }\r\n\r\n   return (\r\n      <>\r\n         <div className={s.descriptionBlock}>\r\n\r\n            <img src={props.profile.photos.large} alt=\"\"/>\r\n            <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n\r\n            <div>\r\n               <div>{props.profile.fullName}</div>\r\n               <div>{props.profile.aboutMe}</div>\r\n               <div>\r\n                  Мой ВК: <a target='_blank' href={`http://${props.profile.contacts.vk}`}>{props.profile.contacts.vk}</a>\r\n               </div>\r\n               <div>\r\n                  Мой гитхаб: {props.profile.github}\r\n               </div>\r\n               <div>\r\n                  {props.profile.lookingForAJobDescription}\r\n               </div>\r\n            </div>\r\n\r\n         </div>\r\n      </>\r\n   )\r\n}\r\n\r\nexport default ProfileInfo","import React from \"react\"\r\nimport classes from \"./Post.module.css\"\r\n\r\nconst { item } = classes\r\n\r\nconst Post = (props) => {\r\n\tconst { message, likes } = props\r\n\r\n\treturn (\r\n\t\t<div className={item}>\r\n\t\t\t<img src='https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg' />\r\n\t\t\t{message}\r\n\t\t\t<div>\r\n\t\t\t\t<span> {likes} likes</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Post\r\n","import {createEvent, createStore, sample} from 'effector'\r\n\r\nexport const insert = createEvent()\r\nexport const change = createEvent()\r\nexport const reset = createEvent()\r\nexport const $posts = createStore([\r\n   {id: 1, message: \"Hello World!\", likes: 12},\r\n   {id: 2, message: \"Learn React.\", likes: 25},\r\n   {id: 3, message: \"Wanna eat some burgers.\", likes: 9},\r\n   {id: 4, message: \"Progress.\", likes: 15},\r\n])\r\nexport const $input = createStore(\"\")\r\n\r\n$input.on(change, (state, value) => value)\r\n$input.on(reset, () => '')\r\n$input.on(insert, () => '')\r\n\r\nexport const submit = createEvent()\r\nsubmit.watch(e => e.preventDefault())\r\n\r\n\r\nsample({\r\n   clock: submit,\r\n   source: $input,\r\n   target: insert,\r\n})","import React from \"react\"\r\nimport s from \"./MyPosts.module.css\"\r\nimport Post from \"./Post/Post\"\r\nimport {useStore} from \"effector-react\";\r\nimport {$input, $posts, change, submit} from \"./model\";\r\n\r\nconst MyPosts = (props) => {\r\n\r\n   console.log(\"render myPosts\")\r\n\r\n   const input = useStore($input)\r\n   const posts = useStore($posts)\r\n\r\n   $posts.on(submit, (posts) => {\r\n      if (input && input.length < 30 && input.trim()) {\r\n         return [...posts, {id: 5, message: input, likes: 0}]\r\n      }\r\n   })\r\n\r\n   let postsElements = posts.map((p) => {\r\n      return (<Post message={p.message} key={p.id} likes={p.likes}>{posts}</Post>)\r\n   }).reverse()\r\n\r\n   return (\r\n      <div>\r\n         <h3>My posts</h3>\r\n         <div>\r\n            <form>\r\n               <textarea\r\n                  value={input}\r\n                  onChange={(e) => change(e.target.value)}\r\n               />\r\n               <input type=\"submit\" onClick={submit} value=\"Add post\"/>\r\n            </form>\r\n         </div>\r\n         <div className={s.posts}>{postsElements}</div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default React.memo(MyPosts)\r\n","import React from \"react\"\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\"\r\nimport {Redirect} from \"react-router-dom\";\r\nimport MyPosts from \"./MyPosts/MyPosts\";\r\n\r\nconst Profile = (props) => {\r\n\r\n   return (\r\n      <>\r\n         <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n         <MyPosts/>\r\n      </>\r\n   )\r\n}\r\n\r\nexport default Profile\r\n","import React from \"react\"\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfileThunk, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n   componentDidMount() {\r\n      let userId = this.props.match.params.userId\r\n      if (!userId) {\r\n         userId = this.props.authorizedUserId\r\n         if (!userId) {\r\n            this.props.history.push(\"/login\")\r\n         }\r\n      }\r\n\r\n      this.props.getUserProfileThunk(userId)\r\n      this.props.getStatus(userId)\r\n   }\r\n\r\n   render() {\r\n\r\n      return (\r\n         <Profile {...this.props}/> // профайл не обязон\r\n      )\r\n   }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n   profile: state.profilePage.profile,\r\n   status: state.profilePage.status,\r\n   authorizedUserId: state.auth.id,\r\n   isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n   connect(mapStateToProps, {getUserProfileThunk, getStatus, updateStatus}),\r\n   withRouter\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}