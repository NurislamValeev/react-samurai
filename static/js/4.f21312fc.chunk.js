(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{116:function(e,r,n){"use strict";n.d(r,"a",function(){return Le}),n.d(r,"b",function(){return h}),n.d(r,"c",function(){return v}),n.d(r,"d",function(){return m}),n.d(r,"e",function(){return z}),n.d(r,"f",function(){return c}),n.d(r,"g",function(){return y});var t=n(4),a=n(42),o=n(25);function i(e,r,n,t){(E(e)||M(e))&&("family"in e||"graphite"in e)||O("".concat(r,": expect ").concat(n," to be a unit (store, event or effect)").concat(t))}function u(e,r,n){if(Array.isArray(e))for(var t=0;t<e.length;t++)i(e[t],r,"".concat(t," item of ").concat(n),"");else i(e,r,n," or array of units")}function f(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.node,n=void 0===r?[]:r,t=e.from,a=e.source,o=e.parent,i=void 0===o?t||a:o,u=e.to,f=e.target,c=e.child,s=void 0===c?u||f:c,l=e.scope,d=void 0===l?{}:l,p=e.meta,v=void 0===p?{}:p,m=e.family,h=void 0===m?{type:"regular"}:m,g=e.regional,y=ve(i),b=ve(h.links),k=ve(h.owners),w=[],S={},A=0;A<n.length;A++){var x=n[A];x&&(w.push(x),me(x,S))}for(var N={id:I(),seq:w,next:ve(s),meta:v,scope:d,family:{type:h.type||"crosslink",links:b,owners:k},reg:S},R=0;R<b.length;R++)re(b[R]).push(N);for(var q=0;q<k.length;q++)ne(k[q]).push(N);for(var j=0;j<y.length;j++)y[j].next.push(N);return g&&le&&se(ie(le),[N]),N}function c(e,r,n){var t=ze,a=null,o=ke;if(e.target&&(r=e.params,n=e.defer,t="page"in e?e.page:t,e.stack&&(a=e.stack),o=ce(e)||o,e=e.target),o&&ke&&o!==ke&&(ke=null),Array.isArray(e))for(var i=0;i<e.length;i++)Ae("pure",t,ee(e[i]),a,r[i],o);else Ae("pure",t,ee(e),a,r,o);if(!n||qe){var u,f,c,s,l,d,p={isRoot:qe,currentPage:ze,forkPage:ke,isWatch:je};qe=0;e:for(;s=Se();){var v=s,m=v.idx,h=v.stack,g=v.type;c=h.node,ze=l=h.page,ke=ce(h),d=(l||c).reg;var y={fail:0,scope:c.scope};u=f=0;for(var b=m;b<c.seq.length&&!u;b++){var w=c.seq[b],S=w.data;switch(w.type){case"barrier":var A=S.barrierID;l&&(A="".concat(l.fullID,"_").concat(A));var x=S.priority;if(b!==m||g!==x){Re.has(A)||(Re.add(A),xe(b,h,x,A));continue e}Re.delete(A);break;case"mov":var N=void 0;switch(S.from){case"stack":N=ie(h);break;case"a":case"b":N=h[S.from];break;case"value":N=S.store;break;case k:d[S.store.id]||(h.page=l=Ee(l,S.store.id),d=l?l.reg:c.reg),N=X(d[S.store.id])}switch(S.to){case"stack":h.value=N;break;case"a":case"b":h[S.to]=N;break;case k:Me(l,c,S.target.id).current=N}break;case"check":switch(S.type){case"defined":f=void 0===ie(h);break;case"changed":f=ie(h)===X(Me(l,c,S.store.id))}break;case"filter":f=!Pe(y,S,h);break;case"run":if(b!==m||"effect"!==g){xe(b,h,"effect");continue e}case"compute":je="watch"===c.meta.op,h.value=Pe(y,S,h),je=p.isWatch}u=y.fail||f}if(!u)for(var R=0;R<c.next.length;R++)Ae("child",l,c.next[R],h,ie(h),ce(h))}qe=p.isRoot,ze=p.currentPage,ke=ce(p)}}function s(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"combine")+"(",n="",t=0;for(var a in e){var o=e[a];if(null!=o&&(r+=n,r+=A(o)?o.compositeName.fullName:o.toString()),25===(t+=1))break;n=", "}return r+=")"}function l(e,r){var n,t,a,o=e;return r?(a=r.compositeName,0===e.length?(n=a.path,t=a.fullName):(n=a.path.concat([e]),t=0===a.fullName.length?e:a.fullName+"/"+e)):(n=0===e.length?[]:[e],t=e),{shortName:o,fullName:t,path:n}}function d(e,r){for(var n in e)r(e[n],n)}function p(e,r){e.forEach(r)}function v(e,r){var n=function e(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return ze?function(e,r,n,t){var a=ze,o=null;if(r)for(o=ze;o&&o.template!==r;)o=fe(o);Oe(o);var i=e.create(n,t);return Oe(a),i}(e,t,r,a):e.create(r,a)};n.graphite=f({meta:Ue("event",n,r,e),regional:1}),n.create=function(e){return c(ke?ke.find(n):n,e),e},n.watch=C(Ke,n),n.map=function(e){var r,t;E(e)&&(r=e,t=e.name,e=e.fn);var a=v(_e(n,t),r);return Xe(n,a,S,e),a},n.filter=function(e){return Ye(n,"filter",e.fn?e:e.fn,[K({fn:$})])},n.filterMap=function(e){return Ye(n,"filterMap",e,[H({fn:$}),G.defined()])},n.prepend=function(e){var r=v("* \u2192 "+n.shortName,{parent:fe(n)}),t=de();return t&&ee(r).seq.push(t.upward),Xe(r,n,"prepend",e),Qe(n,r),r};var t=de();return n}function m(e,r){function n(e,r){l.off(e),ue(l).set(e,Be(Ze(e,l,"on",1,r,p)))}var t=V(e),a=V(e),o=Ve("updates"),i=de();t.after=[{type:"copy",to:a}],i&&i.plain.push(t,a);var s=t.id,l={subscribers:new Map,updates:o,defaultState:e,stateRef:t,getState:function(){var e,r=t;if(ze){for(var n=ze;n&&!n.reg[s];)n=fe(n);n&&(e=n)}return!e&&ke&&ke.reg[s]&&(e=ke),e&&(r=e.reg[s]),X(r)},setState:function(e){var r;ke&&(r=ke.nodeMap[ee(l).id]),r||(r=l),c({target:r,params:e,defer:1})},reset:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var t=0;t<r.length;t++){var a=r[t];l.on(a,function(){return l.defaultState})}return l},on:function(e,r){if(u(e,".on","first argument"),Array.isArray(e)){var t=!0,a=!1,o=void 0;try{for(var i,f=e[Symbol.iterator]();!(t=(i=f.next()).done);t=!0){n(i.value,r)}}catch(c){a=!0,o=c}finally{try{t||null==f.return||f.return()}finally{if(a)throw o}}}else n(e,r);return l},off:function(e){var r=ue(l).get(e);return r&&(r(),ue(l).delete(e)),l},map:function(e,r){var n,a,o;E(e)&&(n=e,a=e.name,r=e.firstState,e=e.fn);var i=l.getState(),u=de();u?o=null:void 0!==i&&(o=e(i,r));var f=m(o,{name:_e(l,a),config:n,strict:0}),c=Ze(l,f,S,0,e);return te(f).before=[{type:S,fn:e,from:t}],u&&(Ce(u.plain,t)||Ce(c.seq,u.loader)||c.seq.unshift(u.loader)),f},watch:function(e,r){if(!r||!A(e)){var n=Ke(l,e),a=de();return a?a.watch.push({of:t,fn:e}):e(l.getState()),n}return M(r)||O("second argument should be a function"),e.watch(function(e){return r(l.getState(),e)})}},d=Ue(k,l,r),p=l.defaultConfig.updateFilter;return l.graphite=f({scope:{state:t},node:[G.defined(),G.changed({store:a}),p&&B({store:a,to:"a"}),p&&K({fn:function(e,r,n){var t=n.a;return p(e,t)}}),U({store:t}),U({store:a})],child:o,meta:d,regional:1}),we&&void 0===e&&O("current state can't be undefined, use null instead"),se(l,[o]),l}function h(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var t,a,o;Fe(r[0],function(e,n){o=e,r=n});var i,u,f=r[r.length-1];if(M(f)?(a=r.slice(0,-1),t=f):a=r,1===a.length){var c=a[0];N(c)||(i=c,u=1)}return u||(i=a,t&&(t=$e(t))),E(i)||O("shape should be an object"),er(Array.isArray(i),i,o,t)}function g(e,r){var n=v(r||s(e,"merge"));return u(e,"merge","first argument"),He({from:e,to:n,meta:{op:"merge"}}),n}function y(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var t,o,i,c,s=Ie(r),l=Object(a.a)(s,2),d=Object(a.a)(l[0],3),y=d[0],b=d[1],w=d[2],S=l[1];void 0===b&&E(y)&&function(e){var r=0;return p(rr,function(n){n in e&&(null==e[n]&&O("sample: ".concat(n," should be defined")),r=1)}),r}(y)&&(b=y.clock,w=y.fn,c=y.greedy,t=y.target,o=y.name,i=y.sid,y=y.source);var x=1;void 0===y&&(u(b,"sample","clock"),Array.isArray(b)&&(b=g(b)),y=b,x=0),x&&!A(y)&&(y=h(y)),void 0===b&&(b=y),u(b,"sample","clock"),o=S||o||y.shortName;var R=de(),q=!!t;t||(N(y)&&N(b)?t=m(w?w(X(te(y)),X(te(b))):X(te(y)),{name:o,sid:i}):(t=v(o),R&&ee(t).seq.push(R.loader)));var j=q&&A(t)&&ee(t).meta.nativeTemplate;if(N(y)){var z=te(y);se(y,[Ge(b,t,{scope:{fn:w,targetTemplate:j},node:[R&&R.loader,!c&&L({priority:"sampler"}),B({store:z,to:w?"a":"stack"}),w&&H({fn:Z}),R&&q&&R.upward],meta:{op:"sample",sample:k}})]),R&&(Ce(R.plain,z)||Ce(R.closure,z)||R.closure.push(z))}else{var M=V(0),P=V(),T=V();R&&R.plain.push(M,P,T),f({parent:y,node:[U({store:P}),B({from:"value",store:1,target:M})],family:{owners:[y,t,b],links:t},meta:{op:"sample",sample:"source"},regional:1}),se(y,[Ge(b,t,{scope:{fn:w,targetTemplate:j},node:[R&&R.loader,U({store:T}),B({store:M}),K({fn:function(e){return e}}),!c&&L({priority:"sampler"}),B({store:P}),B({store:T,to:"a"}),w&&H({fn:Y}),R&&q&&R.upward],meta:{op:"sample",sample:"clock"}})])}return t}for(var b="undefined"!=typeof Symbol&&Symbol.observable||"@@observable",k="store",w="effect",S="map",A=function(e){return(M(e)||E(e))&&"kind"in e},x=function(e){return function(r){return A(r)&&r.kind===e}},N=x(k),R=x("event"),q=x(w),j=x("domain"),z={__proto__:null,unit:A,store:N,event:R,effect:q,domain:j},O=function(e){throw Error(e)},E=function(e){return"object"==typeof e&&null!==e},M=function(e){return"function"==typeof e},P=function(e){E(e)||M(e)||O("expect first argument be an object")},T=function(){var e=0;return function(){return(++e).toString(36)}},_=T(),F=T(),I=T(),C=function(e,r){return e.bind(null,r)},D=function(e,r,n){return e.bind(null,r,n)},J=function(e,r,n){return{id:F(),type:e,data:n,hasRef:r}},W=0,L=function(e){var r=e.priority;return J("barrier",0,{barrierID:++W,priority:void 0===r?"barrier":r})},B=function(e){var r=e.from,n=void 0===r?k:r,t=e.store,a=e.target,o=e.to;return J("mov",n===k,{from:n,store:t,to:void 0===o?a?k:"stack":o,target:a})},G={defined:function(){return J("check",0,{type:"defined"})},changed:function(e){var r=e.store;return J("check",1,{type:"changed",store:r})}},H=D(J,"compute",0),K=D(J,"filter",0),Q=D(J,"run",0),U=function(e){var r=e.store;return B({from:"stack",target:r})},V=function(e){return{id:F(),current:e}},X=function(e){return e.current},Y=function(e,r,n){return(0,r.fn)(e,n.a)},Z=function(e,r,n){return(0,r.fn)(n.a,e)},$=function(e,r){return(0,r.fn)(e)},ee=function(e){return e.graphite||e},re=function(e){return e.family.owners},ne=function(e){return e.family.links},te=function(e){return e.stateRef},ae=function(e){return e.config},oe=function(e){return e.\u0254},ie=function(e){return e.value},ue=function(e){return e.subscribers},fe=function(e){return e.parent},ce=function(e){return e.forkPage},se=function(e,r){for(var n=ee(e),t=0;t<r.length;t++){var a=ee(r[t]);"domain"!==n.family.type&&(a.family.type="crosslink"),re(a).push(n),ne(n).push(a)}},le=null,de=function(){return le&&le.template},pe=function(e){return e&&le&&le.sidRoot&&(e="".concat(le.sidRoot,"\u0254").concat(e)),e},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[];if(Array.isArray(e))for(var n=0;n<e.length;n++)Array.isArray(e[n])?r.push.apply(r,Object(o.a)(e[n])):r.push(e[n]);else r.push(e);return r.map(ee)},me=function(e,r){var n,t=e.hasRef,a=e.type,o=e.data;t&&(r[(n=o.store).id]=n),"mov"===a&&o.to===k&&(r[(n=o.target).id]=n)},he=null,ge=function e(r,n){if(!r)return n;if(!n)return r;var t,a=r.v.type===n.v.type;return(a&&r.v.id>n.v.id||!a&&"sampler"===r.v.type)&&(t=r,r=n,n=t),t=e(r.r,n),r.r=r.l,r.l=t,r},ye=[],be=0;be<5;)ye.push({first:null,last:null,size:0}),be+=1;var ke,we,Se=function(){for(var e=0;e<5;e++){var r=ye[e];if(r.size>0){if(2===e||3===e){r.size-=1;var n=he.v;return he=ge(he.l,he.r),n}1===r.size&&(r.last=null);var t=r.first;return r.first=t.r,r.size-=1,t.v}}},Ae=function(e,r,n,t,a,o){return xe(0,{a:null,b:null,node:n,parent:t,value:a,page:r,forkPage:o},e)},xe=function(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=Ne(n),o=ye[a],i={v:{idx:e,stack:r,type:n,id:t},l:0,r:0};2===a||3===a?he=ge(he,i):(0===o.size?o.first=i:o.last.r=i,o.last=i),o.size+=1},Ne=function(e){switch(e){case"child":return 0;case"pure":return 1;case"barrier":return 2;case"sampler":return 3;case w:return 4;default:return-1}},Re=new Set,qe=1,je=0,ze=null,Oe=function(e){ze=e},Ee=function(e,r){if(e){for(;e&&!e.reg[r];)e=fe(e);if(e)return e}return null},Me=function(e,r,n){return(Ee(e,n)||r).reg[n]},Pe=function(e,r,n){var t=r.fn;try{return t(ie(n),e.scope,n)}catch(t){console.error(t),e.fail=1}},Te=function(e,r){return""+e.shortName+r},_e=function(e,r){return null==r?Te(e," \u2192 *"):r},Fe=function(e,r){P(e),oe(e)&&r(ae(e),oe(e))},Ie=function(e){var r;return Fe(e[0],function(n,t){r=n,e=t}),[e,r]},Ce=function(e,r){return e.includes(r)},De=function(e,r){var n=e.indexOf(r);-1!==n&&e.splice(n,1)},Je=function(e,r){De(e.next,r),De(re(e),r),De(ne(e),r)},We=function(e){return e.clear()},Le=function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).deep,n=0;if(e.ownerSet&&e.ownerSet.delete(e),N(e))We(ue(e));else if(j(e)){n=1;var t=e.history;We(t.events),We(t.effects),We(t.stores),We(t.domains)}!function e(r,n,t){var a;r.next.length=0,r.seq.length=0,r.scope=null;for(var o=ne(r);a=o.pop();)Je(a,r),(n||t&&!r.meta.sample||"crosslink"===a.family.type)&&e(a,n,"on"!==a.meta.op&&t);for(o=re(r);a=o.pop();)Je(a,r),t&&"crosslink"===a.family.type&&e(a,n,"on"!==a.meta.op&&t)}(ee(e),!!r,n)},Be=function(e){var r=D(Le,e,void 0);return r.unsubscribe=r,r},Ge=function(e,r,n){return f({node:n.node,parent:e,child:r,scope:n.scope,meta:n.meta,family:{owners:[e,r],links:r},regional:1})},He=function(e){var r;Fe(e,function(n,t){r=n,e=t});var n=e,t=n.from,a=n.to,o=n.meta,i=void 0===o?{op:"forward"}:o;return u(t,"forward",'"from"'),u(a,"forward",'"to"'),r&&(i.config=r),Be(f({parent:t,child:a,meta:i,family:{},regional:1}))},Ke=function(e,r){if(M(r)||O(".watch argument should be a function"),ke){var n=ke.nodeMap[ee(e).id];n&&(e=n)}return Be(f({scope:{fn:r},node:[Q({fn:$})],parent:e,meta:{op:"watch"},family:{owners:e},regional:1}))},Qe=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"event";fe(e)&&fe(e).hooks[n](r)},Ue=function(e,r,n,t){var a=function e(r,n){return E(r)&&(e(ae(r),n),null!=r.name&&(E(r.name)?e(r.name,n):M(r.name)?n.handler=r.name:n.name=r.name),r.loc&&(n.loc=r.loc),(r.sid||null===r.sid)&&(n.sid=r.sid),r.handler&&(n.handler=r.handler),r.updateFilter&&(n.updateFilter=r.updateFilter),fe(r)&&(n.parent=fe(r)),"strict"in r&&(n.strict=r.strict),r.named&&(n.named=r.named),e(oe(r),n)),n}({name:t,config:n},{}),o="domain"===e,i=_(),u=a.parent,f=void 0===u?null:u,c=a.sid,s=void 0===c?null:c,d=a.strict,p=void 0===d?1:d,v=a.named,m=void 0===v?null:v,h=m||a.name||(o?"":i),g=l(h,f),y={unit:r.kind=e,name:r.shortName=h,sid:r.sid=pe(s),named:m,unitId:r.id=i};if(r.parent=f,r.compositeName=g,r.defaultConfig=a,r.thru=function(e){return e(r)},r.getType=function(){return g.fullName},!o){r.subscribe=function(e){return P(e),r.watch(M(e)?e:function(r){e.next&&e.next(r)})},r[b]=function(){return r};var k=de();k&&(y.nativeTemplate=k)}return we=p,y},Ve=function(e){return v({named:e})},Xe=function(e,r,n,t){return Ge(e,r,{scope:{fn:t},node:[H({fn:$})],meta:{op:n}})},Ye=function(e,r,n,t){var a;E(n)&&(a=n,n=n.fn);var o=v(Te(e," \u2192? *"),a);return Ge(e,o,{scope:{fn:n},node:t,meta:{op:r}}),o},Ze=function(e,r,n,t,a,o){var i=te(r),u=[B({store:i,to:"a"}),H({fn:t?Z:Y}),G.defined(),G.changed({store:i}),o&&K({fn:function(e,r,n){var t=n.a;return o(e,t)}}),U({store:i})],f=de();if(f&&(u.unshift(f.loader),u.push(f.upward),N(e))){var c=te(e);Ce(f.plain,c)||(Ce(f.closure,c)||f.closure.push(c),i.before||(i.before=[]),i.before.push({type:"closure",of:c}))}return Ge(e,r,{scope:{fn:a},node:u,meta:{op:n}})},$e=function(e){return function(r){return e.apply(void 0,Object(o.a)(r))}},er=function(e,r,n,a){var o=e?function(e){return e.slice()}:function(e){return Object(t.a)({},e)},i=e?[]:{},u=de(),f=o(i),c=V(f),l=V(1);c.type=e?"list":"shape",u&&u.plain.push(c,l);var p=m(f,{name:n||s(r)});ee(p).meta.isCombine=1;var v=[G.defined(),B({store:c,to:"a"}),K({fn:function(e,r,n){var t=r.key;return e!==n.a[t]}}),B({store:l,to:"b"}),H({fn:function(e,r,n){var t=r.clone,a=r.key;n.b&&(n.a=t(n.a)),n.a[a]=e}}),B({from:"a",target:c}),B({from:"value",store:0,target:l}),L({priority:"barrier"}),B({from:"value",store:1,target:l}),B({store:c}),a&&H({fn:a}),G.changed({store:te(p)})],h=c.before=[];return d(r,function(e,r){if(N(e)){i[r]=e.defaultState,f[r]=e.getState();var n=Ge(e,p,{scope:{key:r,clone:o},node:v,meta:{op:"combine"}}),t=te(e);h.push({type:"field",field:r,from:t}),u&&(Ce(u.plain,t)||n.seq.unshift(u.loader))}else f[r]=i[r]=e}),p.defaultShape=r,c.after=[a?{type:S,to:te(p),fn:a}:{type:"copy",to:te(p)}],u||(p.defaultState=a?te(p).current=a(f):i),p},rr=(f({node:[Q({fn:function(e){(0,e.fn)(e.value)}})],meta:{op:"fx",fx:"sidechain"}}),["source","clock","target"])},123:function(e,r,n){"use strict";n.d(r,"a",function(){return o});n(25);var t=n(0),a=n(116);function o(e){a.e.store(e)||u("expect useStore argument to be a store");var r=e.getState(),n=t.useReducer(function(e){return e+1},0)[1],o=t.useRef({store:e,value:r,pending:0});return i(function(){var r=e.updates.watch(function(e){var r=o.current;r.pending||(r.value=e,r.pending=1,n(),r.pending=0)}),t=e.getState(),a=o.current;return a.store===e&&a.value!==t&&(a.value=t,a.pending=1,n(),a.pending=0),a.store=e,r},[e]),r}var i="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,u=function(e){throw Error(e)}}}]);
//# sourceMappingURL=4.f21312fc.chunk.js.map